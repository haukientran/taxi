function loadSendForm(t){var e=$("#"+t+" .register-action").data("type");if(1==validFormRegister(t,e)){var i={name:$("#"+t+' input[name="name"]').val(),email:$("#"+t+' input[name="email"]').val(),phone:$("#"+t+' input[name="phone"]').val(),note:$("#"+t+' textarea[name="note"]').val(),type:e};1===e&&(i.country=$("#"+t+' select[name="country"]').val(),i.educational=$("#"+t+' select[name="educational"]').val()),2===e&&(i.course=$("#"+t+' select[name="course"]').val(),i.province=$("#"+t+' select[name="province"]').val()),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"/ajax/send_form",method:"POST",data:i,beforeSend:function(){loadingBox("open")},success:function(e){setTimeout((function(){loadingBox("close")}),2e3),"success"===e.status?(alert_show("success",e.message),$(".popup-register").removeClass("active"),$("#"+t+" .form-item input, #"+t+" .form-item textarea").val(""),$("#"+t+" select").val("")):alert_show("error",e.message)},error:function(t){loadingBox("close"),alert_show("error",$("#loading_box").data("error"))}})}}function validFormRegister(t,e){var i=!0;return $(".err_show").removeClass("active"),$("#"+t+" .form-control").each((function(){var t=$(this).attr("name");$(this).css({border:"1px solid #d5d5d5"}).css({visibility:"visible"}),""==$(this).val()&&"name"==t&&($(this).parent().find(".err_show").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),i=!1),""==$(this).val()&&"email"==$(this).attr("name")&&($(this).focus(),$(this).parent().find(".err_show.null").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),i=!1),""==$(this).val()||"email"!=t||isEmail($(this).val())||($(this).parent().find(".err_show.email").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),i=!1),""==$(this).val()&&"phone"==$(this).attr("name")&&($(this).focus(),$(this).parent().find(".err_show.null").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),i=!1),""==$(this).val()||"phone"!=t||isPhone($(this).val())||($(this).parent().find(".err_show.phone").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),i=!1),1===e&&(""==$(this).val()&&"country"==$(this).attr("name")&&($(this).parent().find(".err_show").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),i=!1),""==$(this).val()&&"educational"==$(this).attr("name")&&($(this).parent().find(".err_show").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),i=!1)),2===e&&(""==$(this).val()&&"course"==$(this).attr("name")&&($(this).parent().find(".err_show").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),i=!1),""==$(this).val()&&"province"==$(this).attr("name")&&($(this).parent().find(".err_show").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),i=!1))})),i}function validForm(t){var e=!0;return $(".err_show").removeClass("active"),$("#"+t+" .form-control").each((function(){$(this).attr("name");if($(this).css({border:"1px solid #d5d5d5"}).css({visibility:"visible"}),""==$(this).val()&&($(this).focus(),$(this).parent().find(".err_show.null").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),e=!1),""==$(this).val()||"email"!=$(this).attr("name")||isEmail($(this).val())||($(this).parent().find(".err_show.email").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),e=!1),""==$(this).val()||"phone"!=$(this).attr("name")||isPhone($(this).val())||($(this).parent().find(".err_show.phone").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),e=!1),0==$(this).val()&&"product_name"==$(this).attr("name")&&($(this).parent().find(".err_show").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),e=!1),0==e){var i=t;if(("formComment"==i||i.includes("formComment"))&&(i="cmt_vote"),"form_contact"!=i){var a=$("#"+i).position().top;$("html, body").animate({scrollTop:a},"slow")}}})),e}function setCookie(t,e,i){var a=new Date;a.setTime(a.getTime()+60*i*1e3),document.cookie=t+"="+e+";path=/;expires="+a.toUTCString()}function isEmail(t){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(t)}function isPhone(t){return/((09|03|07|08|05)+([0-9]{8})\b)/g.test(t)}function loadingBox(t="open"){"open"==t?$("#loading_box").css({visibility:"visible",opacity:0}).animate({opacity:1},200):$("#loading_box").animate({opacity:0},200,(function(){$("#loading_box").css("visibility","hidden")}))}function alert_show(t="success",e=""){$("#toast-container .toast").addClass("toast-"+t),$("#toast-container .toast div").text(e),$("#toast-container").css("display","block"),setTimeout((function(){$("#toast-container").css("display","none"),$("#toast-container .toast").removeClass("toast-"+t),$("#toast-container .toast div").text("")}),2e3)}function customTabs(t,e,i,a="true"){1==a&&($("ul."+t+" li:first").addClass("active").fadeIn(),$("."+e+":first").addClass(i)),$("ul."+t+" li").on("click",(function(i){i.preventDefault(),$("ul."+t+" li").removeClass("active"),$(this).addClass("active");var a=$(this).find("a").attr("href");$("."+e).removeClass("active"),$(a).addClass("active")}))}function getUrlParameter(t,e){var i=new RegExp("[?&]"+e+"=([^&#]*)").exec(t);return null==i?null:decodeURI(i[1])||null}function update_input_url(t){$('input[name="current_url"]').val(t)}function pushOrUpdate(t){var e=new URL(window.location.href);$.each(t,(function(t,i){e.searchParams.set(t,i)}));var i=e.href;update_input_url(i)}function update_input_url(t){$('input[name="current_url"]').val(t)}function update_url(t){history.pushState(null,null,t)}function loadingBox(t="open"){"open"==t?$("#loading_box").css({visibility:"visible",opacity:0}).animate({opacity:1},200):$("#loading_box").animate({opacity:0},200,(function(){$("#loading_box").css("visibility","hidden")}))}function loadAjaxGetPaginate(t,e,i){checkEmpty(i)&&(i="progress");var a={beforeSend:function(){},success:function(t){},error:function(t){}};$.extend(a,e),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:t,beforeSend:function(){loadingBox("open")},success:function(t){loadingBox("close"),a.success(t)},error:function(t){loadingBox("close"),alert("Có lỗi xảy ra. Vui lòng thử lại!","error"),a.error(t)}})}function loadData(t="progress",e="",i="",a=!0){loadAjaxGetPaginate($('input[name="current_url"]').val(),{beforeSend:function(){},success:function(t){t.count_choosen>0&&t.count_choosen;$(".pagination").empty(),$(".pagination").append(t.pagination),a||($("html, body").animate({scrollTop:$("#listdata").position().top},300),$("#listdata").empty(),$("body .paginate_item").each((function(){let t=$(this).data("href"),e=getUrlParameter(t,"page"),i=t.split("?")[0]||t;i+="#trang="+e,window.location.href==i&&$(this).addClass("active")}))),$("#listdata").append(t.html)},error:function(t){}},t)}function checkEmpty(t){return null==t||("null"==t||(null==t||(""==t||t==[])))}function loadProduct(t="",e="#listdata",i=".btn-more"){var a=$('input[name="current_url"]').val();$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:a,beforeSend:function(){},success:function(a){1==a.status&&(a.is_hide_more?($(i).html("Quay lại"),$(i).attr("data-hidden","true")):$(i).show(),"empty"==t?($(e).empty(),$(e).html(a.html),$("html, body").animate({scrollTop:$(e).position().top-250},300)):$(e).append(a.html))},error:function(t){alert("Có lỗi xảy ra. Vui lòng thử lại!","error")}})}function sudoSlide(t="",e=[],i=!0,a=!0,s=!0,n=0,o=0,r=0,l=0,c="",d=[]){const h=document.querySelector(`#${t}`);if(!h)return!1;h.querySelectorAll("img").forEach((t=>{t.addEventListener("dragstart",(t=>{t.preventDefault()}))}));var u=document.querySelector(`#${t} .s-content`);const m=t=>t.split("/").pop().split(".").shift();if(u){u.style.transform="translateX(0px)";var $=document.querySelector(`#${t}`).parentNode.clientWidth,v=u.children,p=0,f=0,g=0;e.forEach((function(e,y){let b=e.maxWidth,x=e.minWidth;if($<=b&&$>x){if(f=e.qtyItem,o=e.nextI||o,p=$/f*v.length+r*(f-1)*v.length/(2*f),u.style.width=`${p}px`,Array.from(v).forEach((t=>{t.style.width=p/v.length-r*(f-1)/f+"px",t.style.marginRight=`${r}px`})),i){h.insertAdjacentHTML("beforeend",'<div class="nav"><div class="nav-next"></div><div class="nav-prev"></div></div>');var _=h.querySelector(".nav-next"),C=h.querySelector(".nav-prev");[_,C].forEach((t=>{t.addEventListener("click",(function(){t===_?k(o||1):S(o||1),s&&(clearInterval(g),I())}),{passive:!0})}))}if(a){let U='<div class="dots">';l&&(U=`<div class="dots-custom"><div class="s-wrap" id="dot-custom-${t}"><div class="s-content">`);for(let R=0;R<=Math.round((v.length-f)/o);R++){let D="";if(l){let F=v[R].getAttribute(c);D=`\n                                <div class="dot-custom">\n                                    <img src="${F}" loading="lazy" alt="${m(F)}" width="80" height="80">\n                                </div>\n                            `}U+=`<div class="dot dot-${R} ${0==R?"active":""}">${D}</div>`}U+="</div>",l&&(U+="</div></div>"),h.insertAdjacentHTML("beforeend",U),l&&sudoSlide(`dot-custom-${t}`,d,!0,!1,!1,5e3,1,0,0);let j=document.querySelector(`#${t} .dot.active`),B=document.querySelectorAll(`#${t} .dot`);const O=()=>{j.classList.remove("active"),j=document.querySelector(`#${t} .dot-${w}`),j.classList.add("active")};for(let H of B)H.addEventListener("click",(function(t){var e=t.target;dotClass=e.getAttribute("class"),dotIndex=dotClass.replace(/[^\d]+/g,""),dotIndex!=w&&(w=dotIndex-1,k(o)),O()}),{passive:!0})}var w=0;function S(e){w=Math.max(0,w-1);let i=p/v.length*w*e;if(u.style.transform=`translateX(${-i}px)`,a){let e=document.querySelector(`#${t} .dot.active`);document.querySelectorAll(`#${t} .dot`);e.classList.remove("active"),e=document.querySelector(`#${t} .dot-${w}`),e.classList.add("active")}s&&(clearInterval(g),I())}function k(e){const i=Math.round((v.length-f)/e);w=w>=i?0:w+1;const n=p/v.length*Math.min(w*e,(v.length-f)/e);if(u.style.transform=`translateX(${-n}px)`,a){let e=document.querySelector(`#${t} .dot.active`);document.querySelectorAll(`#${t} .dot`);e.classList.remove("active"),e=document.querySelector(`#${t} .dot-${w}`),e.classList.add("active")}s&&(clearInterval(g),I())}function I(){g=setInterval((()=>k(o||1)),n)}s&&I();let T,q,W,E=!1;const L=t=>{if(t.preventDefault(),2===t.button)return!1;T="mousedown"===t.type?t.pageX:t.changedTouches[t.changedTouches.length-1].pageX,E=!0},A=t=>{if(2===t.button)return!1;if(q="mouseup"===t.type?t.pageX:t.changedTouches[t.changedTouches.length-1].pageX,E=!1,checkHref=t.target,T<q)S(o||1);else if(T>q)k(o||1);else{let t=checkHref.getAttribute("data-href")||"";""!=t&&(window.location.href=t)}},P=t=>{W=t.changedTouches[t.changedTouches.length-1],T=W.pageX,E=!0},X=t=>{if(W=t.changedTouches[t.changedTouches.length-1],q=W.pageX,E=!1,checkHref=t.target,T<q)S(o||1);else if(T>q)k(o||1);else{let t=checkHref.getAttribute("data-href")||"";""!=t&&(window.location.href=t)}};u.addEventListener("mousedown",L,{passive:!0}),u.addEventListener("touchstart",P,{passive:!0}),u.addEventListener("mouseup",A,{passive:!0}),u.addEventListener("touchend",X,{passive:!0})}}))}}$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).ready((function(){if($("body").on("click",".header-menu .menu-btn",(function(t){$(".header-menu").toggleClass("header-menu--open"),$(".menu-popup").toggleClass("active")})),$("body").on("click",".menu-close",(function(t){$(".menu-popup").removeClass("active")})),$("body").on("click",".has-child",(function(t){var e=$(this).closest("li").find("> .submenu").toggleClass("active");$(this).toggleClass("active"),e.find(".submenu").removeClass("active")})),$(".adminbar").length>0)var t=$(".adminbar").height();else t=0;var e=$(".header").outerHeight();$(".header").css("top",t),$("main").css("margin-top",e+t),$("main").css("margin-top",105),$(window).scroll((function(){$(this).scrollTop()>0?($(".header").hasClass("home")?$(".header").removeClass("home"):$(".header").css("top",t),$(".header").addClass("active")):($(".header").hasClass("header_home")&&$(".header").addClass("home"),$(".header").removeClass("active"))})),sudoSlide("slideList",[{maxWidth:99999999999999,minWidth:0,qtyItem:1,nextItem:1}],!0,!1,!1,5e3,1,0,1,"data-thumnail"),sudoSlide("contidion-list",[{maxWidth:99999999999999,minWidth:0,qtyItem:1,nextItem:1}],!1,!0,!1,5e3,1,0,1,"data-thumnail"),sudoSlide("feedback-list",[{maxWidth:99999999999999,minWidth:480,qtyItem:2,nextItem:1},{maxWidth:480,minWidth:0,qtyItem:1,nextItem:1}],!1,!0,!1,5e3,1,15,1,"data-thumnail"),sudoSlide("evaluate-slide",[{maxWidth:99999999999999,minWidth:480,qtyItem:2,nextItem:1},{maxWidth:480,minWidth:0,qtyItem:1,nextItem:1}],!1,!0,!1,5e3,1,15,1,"data-thumnail"),sudoSlide("team_world",[{maxWidth:99999999999999,minWidth:0,qtyItem:4,nextItem:1},{maxWidth:1200,minWidth:768,qtyItem:4,nextItem:1},{maxWidth:768,minWidth:480,qtyItem:3,nextItem:1},{maxWidth:480,minWidth:0,qtyItem:2,nextItem:1}],!0,!1,!1,5e3,1,15,1,"data-thumnail"),$(".activity-list.s-wrap").each((function(t){sudoSlide($(this).attr("id"),[{maxWidth:99999999999999,minWidth:480,qtyItem:2,nextItem:1},{maxWidth:480,minWidth:0,qtyItem:1.1,nextItem:1}],!1,!0,!1,5e3,1,10,1,"data-thumnail")}));var i=!1;$("body").on("click",".search-category",(function(){$(this).parent().find(".keyword-category").slideToggle(),$(this).parent().find(".header-search__result").slideToggle(),i?$(this).find("svg").removeClass("rotate-180"):$(this).find("svg").addClass("rotate-180"),i=!i})),$(document).click((function(t){var e=$(".header-search");e.is(t.target)||0!==e.has(t.target).length||(e.find(".search-category svg").removeClass("rotate-180"),$(".keyword-category").slideUp(),$(".header-search__result").slideUp(),i=!1)})),$(".checkbox input").change((function(){$(".keyword-category").slideUp(),type=[],$(".header-search .checkbox input:checked").each((function(){var t=$(this).attr("id");type.push(t)})),$.ajax({url:"/ajax/search-category",method:"POST",data:{type:type},beforeSend:function(){loadingBox("open")},success:function(t){loadingBox("close"),$(".header-search__result").html(t),$(".header-search__result").slideDown()},error:function(t){loadingBox("close"),alert_show("error",$("#loading_box").data("error"))}})})),$("body").on("click","footer .footer-item",(function(t){$(this).toggleClass("active")})),customTabs("menu","footer-center","active"),customTabs("menu","footer-taskbar__content","active",!1),$(document).click((function(t){var e=$(".footer-taskbar");e.is(t.target)||0!==e.has(t.target).length||e.find(".footer-taskbar__content").removeClass("active")}));var a=1;$("body").on("click",".nation-see-more",(function(){$type=$(this).data("hidden"),$type?(location.reload(),$("html, body").animate({scrollTop:$(".nation-list").position().top-300},300)):pushOrUpdate({page:++a}),loadProduct("append",".nation-list",".nation-see-more")})),$("body").on("click","#register_now",(function(t){$(".popup-register").addClass("active")})),$("body").on("click",".btn-close",(function(t){t.stopPropagation(),$(this).closest(".popup").removeClass("active")})),$("body").on("click",".has-child.item-link",(function(t){t.preventDefault()})),$("body").on("click","#category_post .pagination a",(function(t){t.preventDefault();var e=$(this).attr("href"),i=getUrlParameter(e,"page");pushOrUpdate({page:i});let a=e.split("?")[0]||data_href;a=a+"#trang="+i,update_url(a),loadData("","","",!1)}))})),$(document).ready((function(){$(".full-width-slider.slider").each((function(t){sudoSlide($(this).find(".s-wrap").attr("id"),[{maxWidth:99999999999999,minWidth:0,qtyItem:1,nextItem:1}],!0,!0,!1,5e3,1,0)}))}));
