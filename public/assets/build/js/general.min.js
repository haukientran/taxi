function validForm(e){var t=!0;return $(".err_show").removeClass("active"),$("#"+e+" .form-control").each((function(){$(this).attr("name");if($(this).css({border:"1px solid #d5d5d5"}).css({visibility:"visible"}),""==$(this).val()&&($(this).focus(),$(this).parent().find(".err_show.null").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),t=!1),""==$(this).val()||"email"!=$(this).attr("name")||isEmail($(this).val())||($(this).parent().find(".err_show.email").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),t=!1),""==$(this).val()||"phone"!=$(this).attr("name")||isPhone($(this).val())||($(this).parent().find(".err_show.phone").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),t=!1),0==$(this).val()&&"product_name"==$(this).attr("name")&&($(this).parent().find(".err_show").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),t=!1),0==t){var a=e;if(("formComment"==a||a.includes("formComment"))&&(a="cmt_vote"),"form_contact"!=a){var i=$("#"+a).position().top;$("html, body").animate({scrollTop:i},"slow")}}})),t}function setCookie(e,t,a){var i=new Date;i.setTime(i.getTime()+60*a*1e3),document.cookie=e+"="+t+";path=/;expires="+i.toUTCString()}function isEmail(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}function isPhone(e){return/((09|03|07|08|05)+([0-9]{8})\b)/g.test(e)}function loadingBox(e="open"){"open"==e?$("#loading_box").css({visibility:"visible",opacity:0}).animate({opacity:1},200):$("#loading_box").animate({opacity:0},200,(function(){$("#loading_box").css("visibility","hidden")}))}function alert_show(e="success",t=""){$("#toast-container .toast").addClass("toast-"+e),$("#toast-container .toast div").text(t),$("#toast-container").css("display","block"),setTimeout((function(){$("#toast-container").css("display","none"),$("#toast-container .toast").removeClass("toast-"+e),$("#toast-container .toast div").text("")}),2e3)}function getUrlParameter(e,t){var a=new RegExp("[?&]"+t+"=([^&#]*)").exec(e);return null==a?null:decodeURI(a[1])||null}function update_input_url(e){$('input[name="current_url"]').val(e)}function pushOrUpdate(e){var t=new URL(window.location.href);$.each(e,(function(e,a){t.searchParams.set(e,a)}));var a=t.href;update_input_url(a)}function loadSendForm(e){var t=$("#"+e+" .register-action").data("type");if(1==validFormRegister(e,t)){var a={name:$("#"+e+' input[name="name"]').val(),departure:$("#"+e+' input[name="departure"]').val(),destination:$("#"+e+' input[name="destination"]').val(),phone:$("#"+e+' input[name="phone"]').val(),type_contact:$("#"+e+' select[name="type_contact"]').val(),service_contact:$("#"+e+' select[name="service_contact"]').val(),type:t};$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"/ajax/send_form",method:"POST",data:a,beforeSend:function(){loadingBox("open")},success:function(t){setTimeout((function(){loadingBox("close")}),2e3),"success"===t.status?(alert_show("success",t.message),$(".popup-register").removeClass("active"),$("#"+e+" .form-item input, #"+e+" .form-item textarea").val(""),$("#"+e+" select").val("")):alert_show("error",t.message)},error:function(e){loadingBox("close"),alert_show("error",$("#loading_box").data("error"))}})}}function validFormRegister(e,t){var a=!0;return $(".err_show").removeClass("active"),$("#"+e+" .form-control").each((function(){var e=$(this).attr("name");$(this).css({border:"1px solid #d5d5d5"}).css({visibility:"visible"}),""==$(this).val()&&"name"==e&&($(this).parent().find(".err_show").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),a=!1),""==$(this).val()&&"service_contact"==$(this).attr("name")&&($(this).focus(),$(this).parent().find(".err_show.null").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),a=!1),""==$(this).val()&&"type_contact"==$(this).attr("name")&&($(this).focus(),$(this).parent().find(".err_show.null").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),a=!1),""==$(this).val()&&"phone"==$(this).attr("name")&&($(this).focus(),$(this).parent().find(".err_show.null").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),a=!1),""==$(this).val()||"phone"!=e||isPhone($(this).val())||($(this).parent().find(".err_show.phone").addClass("active"),$(this).css({border:"2px solid #dc1f26"}).css({visibility:"visible"}),a=!1)})),a}function isEmail(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}function isPhone(e){return/((09|03|07|08|05)+([0-9]{8})\b)/g.test(e)}function update_input_url(e){$('input[name="current_url"]').val(e)}function update_url(e){history.pushState(null,null,e)}function loadingBox(e="open"){"open"==e?$("#loading_box").css({visibility:"visible",opacity:0}).animate({opacity:1},200):$("#loading_box").animate({opacity:0},200,(function(){$("#loading_box").css("visibility","hidden")}))}function customTabs(e,t,a){$("ul."+e+" li:first a").addClass("active").fadeIn(),$("."+t+":first").addClass(a),$("ul."+e+" li").on("click",(function(a){a.preventDefault(),$("ul."+e+" li").removeClass("active"),$(this).addClass("active");var i=$(this).find("a").attr("href");$("."+t).removeClass("active"),$(i).addClass("active")}))}function loadAjaxGetPaginate(e,t,a){checkEmpty(a)&&(a="progress");var i={beforeSend:function(){},success:function(e){},error:function(e){}};$.extend(i,t),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:e,beforeSend:function(){loadingBox("open")},success:function(e){loadingBox("close"),i.success(e)},error:function(e){loadingBox("close"),alert("Có lỗi xảy ra. Vui lòng thử lại!","error"),i.error(e)}})}function loadData(e="progress",t="",a="",i=!0){loadAjaxGetPaginate($('input[name="current_url"]').val(),{beforeSend:function(){},success:function(e){e.count_choosen>0&&e.count_choosen;$(".pagination").empty(),$(".pagination").append(e.pagination),i||($("html, body").animate({scrollTop:$("#listdata").position().top},300),$("#listdata").empty(),$("body .paginate_item").each((function(){let e=$(this).data("href"),t=getUrlParameter(e,"page"),a=e.split("?")[0]||e;a+="#trang="+t,window.location.href==a&&$(this).addClass("active")}))),$("#listdata").append(e.html)},error:function(e){}},e)}function checkEmpty(e){return null==e||("null"==e||(null==e||(""==e||e==[])))}function loadProduct(e="",t="#listdata",a=".btn-more"){var i=$('input[name="current_url"]').val();$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:i,beforeSend:function(){},success:function(i){1==i.status&&(i.is_hide_more?($(a).html("Quay lại"),$(a).attr("data-hidden","true")):$(a).show(),"empty"==e?($(t).empty(),$(t).html(i.html),$("html, body").animate({scrollTop:$(t).position().top-300},300)):$(t).append(i.html))},error:function(e){alert("Có lỗi xảy ra. Vui lòng thử lại!","error")}})}function sudoSlide(e="",t=[],a=!0,i=!0,s=!0,n=0,o=0,r=0,c=0,l="",d=[]){const h=document.querySelector(`#${e}`);if(!h)return!1;h.querySelectorAll("img").forEach((e=>{e.addEventListener("dragstart",(e=>{e.preventDefault()}))}));var u=document.querySelector(`#${e} .s-content`);const m=e=>e.split("/").pop().split(".").shift();if(u){u.style.transform="translateX(0px)";var $=document.querySelector(`#${e}`).parentNode.clientWidth,p=u.children,v=0,f=0,g=0;t.forEach((function(t,y){let b=t.maxWidth,x=t.minWidth;if($<=b&&$>x){if(f=t.qtyItem,o=t.nextI||o,v=$/f*p.length+r*(f-1)*p.length/(2*f),u.style.width=`${v}px`,Array.from(p).forEach((e=>{e.style.width=v/p.length-r*(f-1)/f+"px",e.style.marginRight=`${r}px`})),a){h.insertAdjacentHTML("beforeend",'<div class="nav"><div class="nav-next"></div><div class="nav-prev"></div></div>');var _=h.querySelector(".nav-next"),w=h.querySelector(".nav-prev");[_,w].forEach((e=>{e.addEventListener("click",(function(){e===_?k(o||1):S(o||1),s&&(clearInterval(g),T())}),{passive:!0})}))}if(i){let j='<div class="dots">';c&&(j=`<div class="dots-custom"><div class="s-wrap" id="dot-custom-${e}"><div class="s-content">`);for(let D=0;D<=Math.round((p.length-f)/o);D++){let R="";if(c){let F=p[D].getAttribute(l);R=`\n                                <div class="dot-custom">\n                                    <img src="${F}" loading="lazy" alt="${m(F)}" width="80" height="80">\n                                </div>\n                            `}j+=`<div class="dot dot-${D} ${0==D?"active":""}">${R}</div>`}j+="</div>",c&&(j+="</div></div>"),h.insertAdjacentHTML("beforeend",j),c&&sudoSlide(`dot-custom-${e}`,d,!0,!1,!1,5e3,1,0,0);let X=document.querySelector(`#${e} .dot.active`),O=document.querySelectorAll(`#${e} .dot`);const U=()=>{X.classList.remove("active"),X=document.querySelector(`#${e} .dot-${C}`),X.classList.add("active")};for(let z of O)z.addEventListener("click",(function(e){var t=e.target;dotClass=t.getAttribute("class"),dotIndex=dotClass.replace(/[^\d]+/g,""),dotIndex!=C&&(C=dotIndex-1,k(o)),U()}),{passive:!0})}var C=0;function S(t){C=Math.max(0,C-1);let a=v/p.length*C*t;if(u.style.transform=`translateX(${-a}px)`,i){let t=document.querySelector(`#${e} .dot.active`);document.querySelectorAll(`#${e} .dot`);t.classList.remove("active"),t=document.querySelector(`#${e} .dot-${C}`),t.classList.add("active")}s&&(clearInterval(g),T())}function k(t){const a=Math.round((p.length-f)/t);C=C>=a?0:C+1;const n=v/p.length*Math.min(C*t,(p.length-f)/t);if(u.style.transform=`translateX(${-n}px)`,i){let t=document.querySelector(`#${e} .dot.active`);document.querySelectorAll(`#${e} .dot`);t.classList.remove("active"),t=document.querySelector(`#${e} .dot-${C}`),t.classList.add("active")}s&&(clearInterval(g),T())}function T(){g=setInterval((()=>k(o||1)),n)}s&&T();let I,q,E,A=!1;const W=e=>{if(e.preventDefault(),2===e.button)return!1;I="mousedown"===e.type?e.pageX:e.changedTouches[e.changedTouches.length-1].pageX,A=!0},P=e=>{if(2===e.button)return!1;if(q="mouseup"===e.type?e.pageX:e.changedTouches[e.changedTouches.length-1].pageX,A=!1,checkHref=e.target,I<q)S(o||1);else if(I>q)k(o||1);else{let e=checkHref.getAttribute("data-href")||"";""!=e&&(window.location.href=e)}},L=e=>{E=e.changedTouches[e.changedTouches.length-1],I=E.pageX,A=!0},B=e=>{if(E=e.changedTouches[e.changedTouches.length-1],q=E.pageX,A=!1,checkHref=e.target,I<q)S(o||1);else if(I>q)k(o||1);else{let e=checkHref.getAttribute("data-href")||"";""!=e&&(window.location.href=e)}};u.addEventListener("mousedown",W,{passive:!0}),u.addEventListener("touchstart",L,{passive:!0}),u.addEventListener("mouseup",P,{passive:!0}),u.addEventListener("touchend",B,{passive:!0})}}))}}$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).ready((function(){if($(".adminbar").length>0)var e=$(".adminbar").height();else e=0;var t=$(".header").outerHeight();$(".header").css("top",e),$("main").css("margin-top",t+e),$(window).scroll((function(){$(this).scrollTop()>0?($(".header").hasClass("home")?$(".header").removeClass("home"):$(".header").css("top",e),$(".header").addClass("active"),$(".header-top").addClass("hidden")):($(".header").hasClass("header_home")&&$(".header").addClass("home"),$(".header-top").removeClass("hidden"),$(".header").removeClass("active"))})),sudoSlide("slideList",[{maxWidth:99999999999999,minWidth:0,qtyItem:1,nextItem:1}],!0,!1,!1,5e3,1,0,1,"data-thumnail"),sudoSlide("team_world",[{maxWidth:99999999999999,minWidth:0,qtyItem:4,nextItem:1},{maxWidth:1200,minWidth:768,qtyItem:4,nextItem:1},{maxWidth:768,minWidth:480,qtyItem:3,nextItem:1},{maxWidth:480,minWidth:0,qtyItem:2,nextItem:1}],!0,!1,!1,5e3,1,20,1,"data-thumnail"),sudoSlide("evaluate-slide",[{maxWidth:99999999999999,minWidth:0,qtyItem:3,nextItem:1}],!0,!0,!1,5e3,1,20,1,"data-thumnail"),$(".activity-list.s-wrap").each((function(e){sudoSlide($(this).attr("id"),[{maxWidth:99999999999999,minWidth:480,qtyItem:2,nextItem:1},{maxWidth:480,minWidth:0,qtyItem:1.1,nextItem:1}],!1,!0,!1,5e3,1,10,1,"data-thumnail")}));var a=!1;$("body").on("click",".search-category",(function(){$(this).parent().find(".keyword-category").slideToggle(),$(this).parent().find(".header-search__result").slideToggle(),a?$(this).find("svg").removeClass("rotate-180"):$(this).find("svg").addClass("rotate-180"),a=!a})),$(document).click((function(e){var t=$(".header-search");t.is(e.target)||0!==t.has(e.target).length||(t.find(".search-category svg").removeClass("rotate-180"),$(".keyword-category").slideUp(),$(".header-search__result").slideUp(),a=!1)})),$(".checkbox input").change((function(){$(".keyword-category").slideUp(),type=[],$(".header-search .checkbox input:checked").each((function(){var e=$(this).attr("id");type.push(e)})),$.ajax({url:"/ajax/search-category",method:"POST",data:{type:type},beforeSend:function(){loadingBox("open")},success:function(e){loadingBox("close"),$(".header-search__result").html(e),$(".header-search__result").slideDown()},error:function(e){loadingBox("close"),alert_show("error",$("#loading_box").data("error"))}})})),$(".header-search #keyword").on("keyup",(function(){var e=$(this).val();$.ajax({url:"/ajax/search-keyword",method:"POST",data:{keyword:e},beforeSend:function(){loadingBox("open")},success:function(e){loadingBox("close"),$(".header-search__result").html(e),$(".header-search__result").slideDown()},error:function(e){loadingBox("close"),alert_show("error",$("#loading_box").data("error"))}})})),customTabs("menu","footer-center","active"),$("body").on("click","#register_now",(function(e){$(".popup-register").addClass("active")})),$("body").on("click",".btn-close",(function(e){e.stopPropagation(),$(this).closest(".popup").removeClass("active")}));var i=1;$("body").on("click",".nation-see-more",(function(){$type=$(this).data("hidden"),$type?(location.reload(),$("html, body").animate({scrollTop:$(".nation-list").position().top-300},300)):pushOrUpdate({page:++i}),loadProduct("append",".nation-list",".nation-see-more")})),$("body").on("click","#register .form-control",(function(e){$(this).parent().find(".err_show.null").removeClass("active"),$(this).css({border:"1px solid #EAEAEA"}).css({visibility:"visible"})})),$("body").on("click",".has-child .menu-item__link",(function(e){e.preventDefault()})),$("body").on("click","#category_post .pagination a",(function(e){e.preventDefault();var t=$(this).attr("href"),a=getUrlParameter(t,"page");pushOrUpdate({page:a});let i=t.split("?")[0]||data_href;i=i+"#trang="+a,update_url(i),loadData("","","",!1)}))})),$(document).ready((function(){$(".full-width-slider.slider").each((function(e){sudoSlide($(this).find(".s-wrap").attr("id"),[{maxWidth:99999999999999,minWidth:0,qtyItem:1,nextItem:1}],!0,!0,!1,5e3,1,0)}))}));
